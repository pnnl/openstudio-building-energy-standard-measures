{
  "workflow_name": "Supply Air Temperature Reset Verification",
  "meta": {
    "author": "None",
    "date": "09/30/2024",
    "version": "1.0",
    "description": "Supply Air Temperature Reset Verification"
  },
  "imports": [
    "numpy as np",
    "pandas as pd",
    "datetime",
    "glob"
  ],
  "states": {
    "load_data": {
      "Type": "MethodCall",
      "MethodCall": "DataProcessing",
      "Parameters": {
        "data_path": "./tests/input/test.csv",
        "data_source": "EnergyPlus"
      },
      "Payloads": {
        "data_processing_obj": "$"
      },
      "Start": "True",
      "Next": "load_verification_case"
    }
  },
  "load_verification_case": {
    "Type": "MethodCall",
    "MethodCall": "VerificationCase",
    "Parameters": {
      "json_case_path": "./tests/output/supply_air_temperature_verification_case.json"
    },
    "Payloads": {
      "verification_case_obj": "$"
    },
    "Next": "validate_case"
  },
  "validate_cases": {
    "Type": "Choice",
    "Choices": [
      {
        "Value": "Payloads['verification_case_obj'].validate()",
        "Equals": "True",
        "Next": "setup_verification"
      }
    ],
    "Default": "Report Error in Workflow"
  },
  "configure verification runner": {
    "Type": "MethodCall",
    "MethodCall": "Payloads['verification_obj'].configure",
    "Parameters": {
      "output_path": "./tests/output",
      "lib_items_path": "./schema/library.json",
      "plot_option": "+x None",
      "fig_size": "+x (6, 5)",
      "num_threads": 1,
      "preprocessed_data": "Payloads['data_processing_obj']"
    },
    "Payloads": {},
    "Next": "run verification"
  },
  "run verification": {
    "Type": "MethodCall",
    "MethodCall": "Payloads['verification_obj'].run",
    "Parameters": {},
    "Payloads": {
      "verification_return": "$"
    },
    "Next": "check results"
  },
  "setup verification": {
    "Type": "MethodCall",
    "MethodCall": "Verification",
    "Parameters": {
      "verifications": "Payloads['verification_case_obj']"
    },
    "Payloads": {
      "verification_obj": "$"
    },
    "Next": "configure verification runner"
  },
  "check results": {
    "Type": "MethodCall",
    "MethodCall": "glob.glob",
    "Parameters": [
      "./tests/output/*_md.json"
    ],
    "Payloads": {
      "length_of_mdjson": "len($)"
    },
    "Next": "check number of result files"
  },
  "check number of result files": {
    "Type": "Choice",
    "Choices": [
      {
        "Value": "Payloads['length_of_mdjson']",
        "Equals": "1",
        "Next": "reporting_object_instantiation"
      }
    ],
    "Default": "Report Error in workflow"
  },
  "reporting_object_instantiation": {
    "Type": "MethodCall",
    "MethodCall": "Reporting",
    "Parameters": {
      "verification_json": "./tests/output/*_md.json",
      "result_md_name": "report_summary.md",
      "report_format": "markdown"
    },
    "Payloads": {
      "reporting_obj": "$"
    },
    "Next": "report_cases"
  },
  "report_cases": {
    "Type": "MethodCall",
    "MethodCall": "Payloads['reporting_obj'].report_multiple_cases",
    "Parameters": {},
    "Payloads": {},
    "Next": "Success"
  },
  "Success": {
    "Type": "MethodCall",
    "MethodCall": "print",
    "Parameters": [
      "Congratulations! The supply air temperature reset verification workflow is executed with expected results and no error!"
    ],
    "End": "True"
  },
  "Report Error in workflow": {
    "Type": "MethodCall",
    "MethodCall": "logging.error",
    "Parameters": [
      "Something is wrong in the workflow execution"
    ],
    "End": "True"
  }
}